import{d as y,r as h,o as u,c as w,w as p,a,b as V,e as _,t as J,f as C,n as R,g as N,v as E,u as m,O as z,h as Q,m as X,i as Y,l as Z,j as k,k as S,p as $,q as B,s as ee,F as O,x as f,y as D,P as q,z as te,A as se,B as ne,C as oe,D as re,E as ae,G as le,H as ie,I as P,_ as ce,J as de}from"./vendor.5c3d7a41.js";const ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};ue();const pe={key:0,class:"text-xs sm:text-sm"},I=y({props:{text:{type:String,required:!1,default:""},styles:{type:String,required:!1,default:"border border-gray-300"},activeStyles:{type:String,required:!1,default:"border border-gray-500"}},setup(t){const e=t,s=h(!1);return(n,o)=>(u(),w(m(z),{class:"relative cursor-pointer",onClick:o[1]||(o[1]=r=>s.value=!s.value),onTrigger:o[2]||(o[2]=r=>s.value=!1)},{default:p(()=>[a("div",{class:R(["flex items-center justify-center h-7 sm:h-8 rounded cursor-pointer",[e.text?"space-x-1 px-2 sm:px-3":"w-7 sm:w-8",!s.value&&e.styles,s.value&&e.activeStyles]])},[V(n.$slots,"icon"),e.text?(u(),_("span",pe,J(e.text),1)):C("",!0)],2),N(a("div",{class:"absolute top-8 sm:top-10 z-10 right-0 bg-white border border-gray-300 shadow rounded",onClick:o[0]||(o[0]=r=>r.stopPropagation())},[V(n.$slots,"dropdown")],512),[[E,s.value]])]),_:3}))}}),me={marginV:35,marginH:45,themeColor:"#377bb5",mdContent:""},fe={__set(t,e){t[e.key]=e.val}};var ve={namespaced:!0,state:me,mutations:fe};const he={mdContent:""},ge={__set(t,e){t[e.key]=e.val}};var _e={namespaced:!0,state:he,mutations:ge};const x=(t,e,s)=>{A.commit({type:t+"/__set",key:e,val:s})},A=Q({modules:{styles:ve,data:_e}}),j=t=>fetch(t).then(e=>{if(!e.ok)throw Error("Request error: "+e);return e.text()}).catch(e=>Promise.reject(e)),ye=(t,e)=>{if(t.stopPropagation(),!t.target.files||t.target.files.length<1)return;const s=t.target.files[0];let n=null;const o=()=>{const r=n.result;e(r)};n=new FileReader,n.onloadend=o,n.readAsText(s)},xe=()=>{const t=new X({html:!0}).use(Y),e=t.renderer.rules.link_open||function(s,n,o,r,l){return l.renderToken(s,n,o)};return t.renderer.rules.link_open=function(s,n,o,r,l){const i=s[n].attrIndex("target");return i<0?s[n].attrPush(["target","_blank"]):s[n].attrs[i][1]="_blank",e(s,n,o,r,l)},t},be=t=>{const e=/<dl>([\s\S]*?)<\/dl>/g,s=t.match(e);if(s===null)return t;for(const n of s){const o=/<dt>([\s\S]*?)<\/dt>/g,r=n.match(o);if(!r||(r==null?void 0:r.length)===1)continue;const l=n.replace(/<\/dd>/g,`</dd>
</dl>
<dl>`);t=t.replace(n,l)}return t},we=(t,e)=>{let s="";if(e.name&&(s+=`<h1>${e.name}</h1>
`),e.header)for(let n=0;n<e.header.length;n++){const o=e.header[n];!o||(s+=o.newLine?"<br>":"",o.link?s+=`<a class="preview-header-link" href="${o.link}" target="_blank" rel="noopener noreferrer">${n===0||o.newLine?"":"<span> | </span>"}<span>${o.text}</span></a>
`:s+=`<span>${n===0||o.newLine?"":"<span> | </span>"}<span>${o.text}</span></span>
`)}return`<div class="preview-header">${s}</div>`+t},U=t=>{const e=document.querySelector(".preview"),s=t.marginV+Math.max(t.marginV-10,W),n=1134,o=()=>{const c=document.createElement("div");return c.className="preview-page",c},r=()=>{const c=document.createElement("div");return c.className="preview-page-break",c};let l=o(),i=0;const d=document.createElement("div");d.className="preview";const v=[];if(e.children[0].className!=="preview-page")for(const c of e.children)v.push(c);else for(const c of e.children)for(const g of c.children)v.push(g);for(const c of v){const g=window.getComputedStyle(c,null),b=c.clientHeight+parseInt(g.marginTop)+parseInt(g.marginBottom);i+b>n-s&&(d.appendChild(l),d.appendChild(r()),l=o(),i=0),l.appendChild(c.cloneNode(!0)),i+=b}d.appendChild(l),e.innerHTML=d.innerHTML,K(e,t)},$e=xe(),Ce=t=>{const{body:e,attributes:s}=Oe(t);let n=$e.render(e);return n=be(n),n=we(n,s),n},H=t=>{const e=document.querySelector(".preview");K(e,t),U(t)},W=10,M=["#000000","#377bb5","#ca3832","#ee8732","#9c5bde","#43912b"],ke=(t,e)=>{t.style.paddingTop=`${e.marginV}px`,t.style.paddingBottom=`${Math.max(e.marginV-10,W)}px`,t.style.paddingLeft=`${e.marginH}px`,t.style.paddingRight=`${e.marginH}px`},Se=(t,e)=>{["H1","H2","H3","H4","A"].indexOf(t.tagName)!==-1&&(t.tagName==="A"&&t.classList.contains("preview-header-link")||(t.style.color=e.themeColor,t.tagName==="H2"&&(t.style.borderBottomColor=e.themeColor)))},K=(t,e)=>{const s=t.querySelectorAll(".preview-page");for(const o of s)ke(o,e);const n=t.querySelectorAll("*");for(const o of n)Se(o,e)},Ie="\\ufeff?",He=typeof process!="undefined"?process.platform:"",Le="^("+Ie+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(He==="win32"?"\\r?":"")+"(?:\\n)?)",Me=new RegExp(Le,"m"),Re=(t,e)=>{let s=1,n=e.indexOf(`
`);const o=t.index+t[0].length;for(;n!==-1;){if(n>=o)return s;s++,n=e.indexOf(`
`,n+1)}return s};let F={};const Be=t=>{const e=Me.exec(t);if(!e)return{attributes:{},body:t,bodyBegin:1};const s=e[e.length-1].replace(/^\s+|\s+$/g,""),n=t.replace(e[0],""),o=Re(e,t);try{const r=Z(s)||{};return F=r,{attributes:r,body:n,bodyBegin:o,frontmatter:s}}catch{return{attributes:F,body:n,bodyBegin:o,frontmatter:s}}},Oe=t=>{t=t||"";const e=t.split(/(\r?\n)/);return e[0]&&/= yaml =|---/.test(e[0])?Be(t):{attributes:{},body:t,bodyBegin:1}},Te={class:"flex space-x-2 px-3 py-3 rounded"},Ve=["onClick"],Pe={class:"w-full h-full flex items-center justify-center"},Fe=a("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),Ne=[Fe],Ee={class:"w-5 h-5 relative flex items-center justify-center"},ze=a("span",{class:"iconify text-lg","data-icon":"emojione:artist-palette"},null,-1),De=["value"],qe=y({setup(t){const e=k(),s=h(1),n=h(M[0]),o=S(()=>s.value===-1?n.value:M[s.value]),r=i=>{s.value=i,n.value=o.value},l=i=>{s.value=-1,n.value=i.target.value};return $(()=>o.value,()=>{x("styles","themeColor",o.value),H(e.state.styles)}),(i,d)=>(u(),w(I,null,{icon:p(()=>[a("span",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-sm",style:B({backgroundColor:m(o)})},null,4)]),dropdown:p(()=>[a("ul",Te,[(u(!0),_(O,null,ee(m(M),(v,c)=>(u(),_("li",{key:`${c}-color`,class:"w-5 h-5 rounded-sm text-white",style:B({backgroundColor:v}),onClick:g=>r(c)},[N(a("div",Pe,Ne,512),[[E,s.value===c]])],12,Ve))),128)),a("li",Ee,[ze,a("input",{class:"absolute left-0 w-full h-full opacity-0 cursor-pointer",type:"color",value:n.value,onInput:l},null,40,De)])])]),_:1}))}});const Ae=a("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin-one"},null,-1),je={class:"w-7 sm:w-8 py-3"},Ue=y({setup(t){const e=k(),s=S({get(){return e.state.styles.marginV},set(n){x("styles","marginV",n),H(e.state.styles)}});return(n,o)=>(u(),w(I,null,{icon:p(()=>[Ae]),dropdown:p(()=>[a("div",je,[f(m(q),{modelValue:m(s),"onUpdate:modelValue":o[0]||(o[0]=r=>D(s)?s.value=r:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])])]),_:1}))}}),We=a("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin"},null,-1),Ke={class:"w-7 sm:w-8 py-3"},Ge=y({setup(t){const e=k(),s=S({get(){return e.state.styles.marginH},set(n){x("styles","marginH",n),H(e.state.styles)}});return(n,o)=>(u(),w(I,null,{icon:p(()=>[We]),dropdown:p(()=>[a("div",Ke,[f(m(q),{modelValue:m(s),"onUpdate:modelValue":o[0]||(o[0]=r=>D(s)?s.value=r:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])])]),_:1}))}});var Je=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s};const T=t=>(se("data-v-145ef552"),t=t(),ne(),t),Qe=T(()=>a("span",{class:"iconify","data-icon":"ic:baseline-close"},null,-1)),Xe=[Qe],Ye=T(()=>a("div",{class:"px-4 pt-3 pb-1 font-medium"},"Import a Markdown file",-1)),Ze={class:"pt-3 flex text-sm"},et={class:"bg-gray-200 flex-1 flex items-center px-4 rounded-b"},tt={key:1,class:"flex w-full"},st=["value","onKeyup"],nt=T(()=>a("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1)),ot=[nt],rt=y({emits:["closeImport"],setup(t,{emit:e}){const s=h(0),n=h(""),o=()=>{n.value.trim()!==""&&j(n.value).then(l=>{x("data","mdContent",l),e("closeImport")})},r=l=>{ye(l,i=>{x("data","mdContent",i),e("closeImport")})};return(l,i)=>(u(),w(m(z),{class:"import-pane z-10 fixed h-40 w-full sm:w-96 left-0 right-0 top-0 bottom-0 flex flex-col bg-white border border-gray-400 rounded shadow",onTrigger:i[4]||(i[4]=d=>l.$emit("closeImport"))},{default:p(()=>[a("div",null,[a("button",{class:"absolute right-3 top-3.5 cursor-pointer",onClick:i[0]||(i[0]=d=>l.$emit("closeImport"))},Xe),Ye,a("div",Ze,[a("button",{class:R(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===0&&"ml-4 bg-gray-200 border-gray-400",s.value!==0&&"ml-2 border-transparent"]]),onClick:i[1]||(i[1]=d=>s.value=0)}," Upload a file ",2),a("button",{class:R(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===1&&"bg-gray-200 border-gray-400",s.value!==1&&"border-transparent"]]),onClick:i[2]||(i[2]=d=>s.value=1)}," Paste file URL ",2)])]),a("div",et,[s.value===0?(u(),_("input",{key:0,class:"text-xs",accept:".md",type:"file",onChange:r},null,32)):C("",!0),s.value===1?(u(),_("div",tt,[a("input",{class:"flex-1 h-7 mr-1.5 px-1 text-sm rounded-sm outline-none",value:n.value,onChange:i[3]||(i[3]=d=>n.value=d.target.value),onKeyup:te(o,["enter"])},null,40,st),a("button",{class:"flex items-center justify-center w-8 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-sm",onClick:o},ot)])):C("",!0)])]),_:1}))}});var at=Je(rt,[["__scopeId","data-v-145ef552"]]);const lt=a("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:file-outline"},null,-1),it={class:"w-32"},ct=a("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:upload"},null,-1),dt=a("span",{class:"text-xs sm:text-sm"},"Import MD",-1),ut=[ct,dt],pt=a("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:progress-download"},null,-1),mt=a("span",{class:"text-xs sm:text-sm"},"Export PDF",-1),ft=[pt,mt],vt=y({setup(t){const e=()=>{window.print()},s=h(!1),n=o=>{s.value=typeof o=="boolean"?o:!s.value};return(o,r)=>(u(),_(O,null,[f(I,{text:"File",styles:"bg-blue-500 text-white","active-styles":"bg-blue-600 text-white"},{icon:p(()=>[lt]),dropdown:p(()=>[a("ul",it,[a("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-9 cursor-pointer bg-transparent hover:bg-gray-100 rounded-t",onClick:r[0]||(r[0]=l=>n(!0))},ut),a("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-9 cursor-pointer bg-transparent hover:bg-gray-100 rounded-b",onClick:e},ft)])]),_:1}),s.value?(u(),w(at,{key:0,onCloseImport:r[1]||(r[1]=l=>n(!1))})):C("",!0)],64))}}),ht={class:"header relative border-b flex justify-between pl-4 pr-1"},gt=a("div",{class:"flex items-center"},[a("h1",{class:"font-bold text-md sm:text-lg"},"Oh, Resume!")],-1),_t={class:"space-x-1.5 flex items-center text-gray-600"},yt=a("a",{class:"flex items-center justify-center space-x-1 h-7 w-7 sm:h-8 sm:w-8 text-white rounded bg-gray-500 hover:bg-gray-600",href:"http://github.com/Renovamen/oh-resume",target:"_blank",rel:"nofollow noopener"},[a("span",{class:"iconify text-sm sm:text-lg","data-icon":"tabler:brand-github"})],-1),xt=y({setup(t){return(e,s)=>(u(),_("header",ht,[gt,a("div",_t,[f(qe),f(Ue),f(Ge),f(vt),yt])]))}}),bt=["innerHTML"],wt=y({setup(t){const e=k(),s=h();let n;oe(()=>{j("/example.md").then(b=>{x("data","mdContent",b),n=re.create(s.value,{value:e.state.data.mdContent,language:"markdown",wordWrap:"on",fontSize:13,automaticLayout:!0}),n.onDidChangeModelContent(()=>{x("data","mdContent",n.getModel().getValue())})}),d()}),ae(()=>{n==null||n.dispose()});const o=S(()=>Ce(e.state.data.mdContent));let r=!1;$(()=>o.value,()=>{ie(()=>{r?U(e.state.styles):(H(e.state.styles),r=!0),g()})}),$(()=>e.state.data.mdContent,()=>n.getModel().setValue(e.state.data.mdContent));const{width:l}=le(),i=h(!1),d=()=>{l.value<=810?i.value=!0:i.value=!1};$(()=>l.value,()=>{d(),g()});const v=h(1),c=h(0),g=()=>{const L=document.querySelector(".preview-pane").clientWidth,G=document.querySelector(".preview-container").clientHeight;L>=804?v.value=1:v.value=(l.value<=810?l.value:L)/804,c.value=-(1-v.value)*G};return(b,L)=>(u(),_(O,null,[f(xt),f(m(ce),{class:"resume-main default-theme",horizontal:i.value,onResize:g},{default:p(()=>[f(m(P),{class:"editor"},{default:p(()=>[a("div",{ref_key:"editorRef",ref:s,class:"h-full"},null,512)]),_:1}),f(m(P),{class:"preview-pane","min-size":"30"},{default:p(()=>[a("div",{class:"preview-container",style:B({transform:`scale(${v.value})`,marginBottom:`${c.value}px`})},[a("div",{class:"preview",innerHTML:m(o)},null,8,bt)],4)]),_:1})]),_:1},8,["horizontal"])],64))}});const $t=de(wt);$t.use(A).mount("#app");
