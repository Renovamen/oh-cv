import{d as _,o as b,c as x,a as c,m as y,b as k,e as L,r as f,f as M,g as C,h as H,i as P,w as v,u as S,j as h,k as g,l as m,F as $,p as w,n as N,_ as R,q as z,s as T}from"./vendor.6343f583.js";const B=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}};B();const E={class:"border-b flex items-center justify-between pl-5 pr-1 header"},I=c("div",{class:"flex items-center space-x-6"},[c("h1",{class:"font-bold text-lg"},"Oh, Resume!")],-1),D=c("a",{class:"flex items-center space-x-2 border rounded-md px-3 h-10 text-white bg-gray-500",href:"http://github.com/Renovamen/oh-resume",target:"_blank",rel:"nofollow noopener"},[c("span",{class:"iconify text-lg","data-icon":"tabler:brand-github","data-inline":"false"}),c("span",{class:"text-sm"},"GitHub")],-1),q=c("span",{class:"iconify text-lg","data-icon":"mdi:progress-download","data-inline":"false"},null,-1),F=c("span",{class:"text-sm"},"PDF",-1),O=[q,F],W=_({setup(s){const r=()=>{window.print()};return(a,e)=>(b(),x("header",E,[I,c("div",{class:"space-x-3 flex items-center"},[D,c("button",{class:"flex items-center space-x-2 border rounded-md px-3 h-10 text-white bg-blue-500",onClick:r},O)])]))}}),j=s=>fetch(s).then(r=>{if(!r.ok)throw Error("Request error.");return r.text()}).catch(r=>Promise.reject(r)),V=()=>{const s=new y({html:!0}).use(k),r=s.renderer.rules.link_open||function(a,e,t,n,o){return o.renderToken(a,e,t)};return s.renderer.rules.link_open=function(a,e,t,n,o){const i=a[e].attrIndex("target");return i<0?a[e].attrPush(["target","_blank"]):a[e].attrs[i][1]="_blank",r(a,e,t,n,o)},s},A=s=>{const r=/<dl>([\s\S]*?)<\/dl>/g,a=s.match(r);if(a===null)return s;for(const e of a){const t=/<dt>([\s\S]*?)<\/dt>/g,n=e.match(t);if(!n||(n==null?void 0:n.length)===1)continue;const o=e.replace(/<\/dd>/g,`</dd>
</dl>
<dl>`);s=s.replace(e,o)}return s},G=(s,r)=>{let a="";if(r.name&&(a+=`<h1>${r.name}</h1>
`),r.header)for(let e=0;e<r.header.length;e++){const t=r.header[e];t.link?a+=`<a href="${t.link}" target="_blank" rel="noopener noreferrer">${e===0?"":"<span> | </span>"}<span>${t.text}</span></a>
`:a+=`<span>${e===0?"":"<span> | </span>"}<span>${t.text}</span></span>
`}return`<div class="preview-header">${a}</div>`+s},K=()=>{const s=document.querySelector(".preview"),r=80,a=1120,e=()=>{const l=document.createElement("div");return l.className="preview-page",l},t=()=>{const l=document.createElement("div");return l.className="preview-page-break",l};let n=e(),o=0;const i=document.createElement("div");i.className="preview";const u=[];if(s.children[0].className!=="preview-page")for(const l of s.children)u.push(l);else for(const l of s.children)for(const d of l.children)u.push(d);for(const l of u){const d=window.getComputedStyle(l,null),p=l.clientHeight+parseInt(d.marginTop)+parseInt(d.marginBottom);o+p>a-r&&(i.appendChild(n),i.appendChild(t()),n=e(),o=0),n.appendChild(l.cloneNode(!0)),o+=p}i.appendChild(n),s.innerHTML=i.innerHTML},U=V(),J=s=>{const{body:r,attributes:a}=L(s);let e=U.render(r);return e=A(e),e=G(e,a),e},Q=["innerHTML"],X=_({setup(s){const r=f();let a;const e=f("");M(()=>{j("/example.md").then(d=>{e.value=d,a=C.create(r.value,{value:e.value,language:"markdown",wordWrap:"on",fontSize:13,automaticLayout:!0}),a.onDidChangeModelContent(()=>{e.value=a.getModel().getValue()})}),i(),l()}),H(()=>{a==null||a.dispose()});const t=P(()=>J(e.value));v(()=>t.value,()=>{z(()=>{K()})});const{width:n}=S(),o=f(!1),i=()=>{n.value<=810?o.value=!0:o.value=!1};v(()=>n.value,()=>{i(),l()});const u=f(1),l=()=>{const p=document.querySelector(".preview-pane").clientWidth;p>=804?u.value=1:u.value=(n.value<=810?n.value:p)/804};return(d,p)=>(b(),x($,null,[h(W),h(m(R),{class:"resume-main default-theme",horizontal:o.value,onResize:l},{default:g(()=>[h(m(w),{class:"editor"},{default:g(()=>[c("div",{ref_key:"editorRef",ref:r,class:"h-full"},null,512)]),_:1}),h(m(w),{class:"preview-pane","min-size":"30"},{default:g(()=>[c("div",{class:"preview-container",style:N({transform:`scale(${u.value})`})},[c("div",{class:"preview",innerHTML:m(t)},null,8,Q)],4)]),_:1})]),_:1},8,["horizontal"])],64))}});const Y=T(X);Y.mount("#app");
