import{d as x,r as g,o as d,c as b,w as m,a as r,b as P,e as h,t as B,f as H,n as F,g as K,v as Y,u as f,O as G,h as oe,m as ae,i as re,l as le,j as C,k,p as O,F as S,q as M,s as L,x as p,y as J,P as Q,z as ie,A as ce,B as de,C as ue,D as pe,E as me,G as fe,H as _e,I as D,_ as he,J as ve}from"./vendor.dc488501.js";const ge=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}};ge();const ye={key:0,class:"text-xs sm:text-sm"},$=x({props:{text:{type:String,required:!1,default:""},styles:{type:String,required:!1,default:"border border-gray-300"},activeStyles:{type:String,required:!1,default:"border border-gray-500"},dropdownMobileRight:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,s=g(!1);return(n,o)=>(d(),b(f(G),{class:F(["cursor-pointer sm:relative",[!t.dropdownMobileRight&&"relative"]]),onClick:o[1]||(o[1]=a=>s.value=!s.value),onTrigger:o[2]||(o[2]=a=>s.value=!1)},{default:m(()=>[r("div",{class:F(["flex items-center justify-center h-7 sm:h-8 rounded cursor-pointer",[e.text?"space-x-1 px-2 sm:px-3 whitespace-nowrap":"w-7 sm:w-8",!s.value&&e.styles,s.value&&e.activeStyles]])},[P(n.$slots,"icon"),e.text?(d(),h("span",ye,B(e.text),1)):H("",!0)],2),K(r("div",{class:F(["absolute sm:top-10 z-10 bg-white border border-gray-300 shadow rounded",[t.dropdownMobileRight?"top-11 right-1.5":"top-8 right-0"]]),onClick:o[0]||(o[0]=a=>a.stopPropagation())},[P(n.$slots,"dropdown")],2),[[Y,s.value]])]),_:3},8,["class"]))}}),xe={marginV:35,marginH:45,themeColor:"#377bb5",fontCN:{name:"\u5FAE\u8F6F\u96C5\u9ED1",fontFamily:"Microsoft YaHei"},fontEN:{name:"CMU Sans Serif"}},be={__set(t,e){t[e.key]=e.val}};var we={namespaced:!0,state:xe,mutations:be};const $e={mdContent:"",fileImported:!1},Ce={__set(t,e){t[e.key]=e.val}};var ke={namespaced:!0,state:$e,mutations:Ce};const y=(t,e,s)=>{X.commit({type:t+"/__set",key:e,val:s})},X=oe({modules:{styles:we,data:ke}}),Z=t=>fetch(t).then(e=>{if(!e.ok)throw Error("Request error: "+e);return e.text()}).catch(e=>Promise.reject(e)),Se=(t,e)=>{if(t.stopPropagation(),!t.target.files||t.target.files.length<1)return;const s=t.target.files[0];let n=null;const o=()=>{const a=n.result;e(a)};n=new FileReader,n.onloadend=o,n.readAsText(s)},Ie=()=>{const t=new ae({html:!0}).use(re),e=t.renderer.rules.link_open||function(s,n,o,a,l){return l.renderToken(s,n,o)};return t.renderer.rules.link_open=function(s,n,o,a,l){const i=s[n].attrIndex("target");return i<0?s[n].attrPush(["target","_blank"]):s[n].attrs[i][1]="_blank",e(s,n,o,a,l)},t},Fe=t=>{const e=/<dl>([\s\S]*?)<\/dl>/g,s=t.match(e);if(s===null)return t;for(const n of s){const o=/<dt>([\s\S]*?)<\/dt>/g,a=n.match(o);if(!a||(a==null?void 0:a.length)===1)continue;const l=n.replace(/<\/dd>/g,`</dd>
</dl>
<dl>`);t=t.replace(n,l)}return t},Ne=(t,e)=>{let s="";if(e.name&&(s+=`<h1>${e.name}</h1>
`),e.header)for(let n=0;n<e.header.length;n++){const o=e.header[n];!o||(s+=o.newLine?"<br>":"",o.link?s+=`<a class="preview-header-link" href="${o.link}" target="_blank" rel="noopener noreferrer">${n===0||o.newLine?"":"<span> | </span>"}<span>${o.text}</span></a>
`:s+=`<span>${n===0||o.newLine?"":"<span> | </span>"}<span>${o.text}</span></span>
`)}return`<div class="preview-header">${s}</div>`+t},ee=t=>{const e=document.querySelector(".preview"),s=t.marginV+Math.max(t.marginV-10,te),n=1134,o=()=>{const u=document.createElement("div");return u.className="preview-page",u},a=()=>{const u=document.createElement("div");return u.className="preview-page-break",u};let l=o(),i=0;const c=document.createElement("div");c.className="preview";const _=[];if(e.children[0].className!=="preview-page")for(const u of e.children)_.push(u);else for(const u of e.children)for(const v of u.children)_.push(v);for(const u of _){const v=window.getComputedStyle(u,null),w=u.clientHeight+parseInt(v.marginTop)+parseInt(v.marginBottom);i+w>n-s&&(c.appendChild(l),c.appendChild(a()),l=o(),i=0),l.appendChild(u.cloneNode(!0)),i+=w}c.appendChild(l),e.innerHTML=c.innerHTML,se(e,t)},Me=Ie(),He=t=>{const{body:e,attributes:s}=ze(t);let n=Me.render(e);return n=Fe(n),n=Ne(n,s),n},I=t=>{const e=document.querySelector(".preview");se(e,t),setTimeout(()=>ee(t),50)},te=10,N=["#000000","#377bb5","#ca3832","#ee8732","#9c5bde","#43912b"],R=[{name:"CMU Sans Serif"},{name:"Times Newer Roman"}],T=[{name:"\u5FAE\u8F6F\u96C5\u9ED1",fontFamily:"Microsoft YaHei"},{name:"Noto Serif SC"}],Ee=(t,e)=>{t.style.paddingTop=`${e.marginV}px`,t.style.paddingBottom=`${Math.max(e.marginV-10,te)}px`,t.style.paddingLeft=`${e.marginH}px`,t.style.paddingRight=`${e.marginH}px`},Re=(t,e)=>{["H1","H2","H3","H4","A"].indexOf(t.tagName)!==-1&&(t.tagName==="A"&&t.classList.contains("preview-header-link")||(t.style.color=e.themeColor,t.tagName==="H2"&&(t.style.borderBottomColor=e.themeColor)))},Te=(t,e)=>{const s=e.fontEN.fontFamily||e.fontEN.name,n=e.fontCN.fontFamily||e.fontCN.name;t.style.fontFamily=s+", "+n},se=(t,e)=>{Te(t,e);const s=t.querySelectorAll(".preview-page");for(const o of s)Ee(o,e);const n=t.querySelectorAll("*");for(const o of n)Re(o,e)},Le="\\ufeff?",Be=typeof process!="undefined"?process.platform:"",Oe="^("+Le+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(Be==="win32"?"\\r?":"")+"(?:\\n)?)",Ve=new RegExp(Oe,"m"),Pe=(t,e)=>{let s=1,n=e.indexOf(`
`);const o=t.index+t[0].length;for(;n!==-1;){if(n>=o)return s;s++,n=e.indexOf(`
`,n+1)}return s};let z={};const De=t=>{const e=Ve.exec(t);if(!e)return{attributes:{},body:t,bodyBegin:1};const s=e[e.length-1].replace(/^\s+|\s+$/g,""),n=t.replace(e[0],""),o=Pe(e,t);try{const a=le(s)||{};return z=a,{attributes:a,body:n,bodyBegin:o,frontmatter:s}}catch{return{attributes:z,body:n,bodyBegin:o,frontmatter:s}}},ze=t=>{t=t||"";const e=t.split(/(\r?\n)/);return e[0]&&/= yaml =|---/.test(e[0])?De(t):{attributes:{},body:t,bodyBegin:1}},qe=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:chinese"},null,-1),Ae={class:"w-32"},je=["onClick"],q=x({setup(t){const e=C(),s=k(()=>e.state.styles.fontCN.name),n=T.findIndex(l=>l.name===s.value),o=g(n),a=l=>{o.value=l,y("styles","fontCN",T[o.value]),I(e.state.styles)};return(l,i)=>(d(),b($,{text:f(s)},{icon:m(()=>[qe]),dropdown:m(()=>[r("ul",Ae,[(d(!0),h(S,null,O(f(T),(c,_)=>(d(),h("li",{key:`font-${_}-${c.name}`,class:"flex items-center px-3 h-8 text-sm cursor-pointer bg-transparent hover:bg-gray-100 rounded-t",onClick:u=>a(_)},B(c.name),9,je))),128))])]),_:1},8,["text"]))}}),Ue=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:english"},null,-1),We={class:"w-36"},Ke=["onClick"],Ye={class:"truncate"},A=x({setup(t){const e=C(),s=k(()=>e.state.styles.fontEN.name),n=R.findIndex(l=>l.name===s.value),o=g(n),a=l=>{o.value=l,y("styles","fontEN",R[o.value]),I(e.state.styles)};return(l,i)=>(d(),b($,{text:f(s)},{icon:m(()=>[Ue]),dropdown:m(()=>[r("ul",We,[(d(!0),h(S,null,O(f(R),(c,_)=>(d(),h("li",{key:`font-${_}-${c.name}`,class:"flex items-center h-8 px-3 text-sm cursor-pointer bg-transparent hover:bg-gray-100 rounded-t",onClick:u=>a(_)},[r("p",Ye,B(c.name),1)],8,Ke))),128))])]),_:1},8,["text"]))}}),Ge={class:"flex space-x-2 px-3 py-3 rounded"},Je=["onClick"],Qe={class:"w-full h-full flex items-center justify-center"},Xe=r("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),Ze=[Xe],et={class:"w-5 h-5 relative flex items-center justify-center"},tt=r("span",{class:"iconify text-lg","data-icon":"emojione:artist-palette"},null,-1),st=["value"],j=x({setup(t){const e=C(),s=N.findIndex(c=>c===e.state.styles.themeColor),n=g(s),o=g(N[s]),a=k(()=>n.value===-1?o.value:N[n.value]),l=c=>{n.value=c,o.value=a.value},i=c=>{n.value=-1,o.value=c.target.value};return M(()=>a.value,()=>{y("styles","themeColor",a.value),I(e.state.styles)}),(c,_)=>(d(),b($,null,{icon:m(()=>[r("span",{class:"w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-sm",style:L({backgroundColor:f(a)})},null,4)]),dropdown:m(()=>[r("ul",Ge,[(d(!0),h(S,null,O(f(N),(u,v)=>(d(),h("li",{key:`${v}-color`,class:"w-5 h-5 rounded-sm text-white",style:L({backgroundColor:u}),onClick:w=>l(v)},[K(r("div",Qe,Ze,512),[[Y,n.value===v]])],12,Je))),128)),r("li",et,[tt,r("input",{class:"absolute left-0 w-full h-full opacity-0 cursor-pointer",type:"color",value:o.value,onInput:i},null,40,st)])])]),_:1}))}});const nt=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin-one"},null,-1),ot={class:"w-7 sm:w-8 py-3"},U=x({setup(t){const e=C(),s=k({get(){return e.state.styles.marginV},set(n){y("styles","marginV",n),I(e.state.styles)}});return(n,o)=>(d(),b($,null,{icon:m(()=>[nt]),dropdown:m(()=>[r("div",ot,[p(f(Q),{modelValue:f(s),"onUpdate:modelValue":o[0]||(o[0]=a=>J(s)?s.value=a:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])])]),_:1}))}}),at=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin"},null,-1),rt={class:"w-7 sm:w-8 py-3"},W=x({setup(t){const e=C(),s=k({get(){return e.state.styles.marginH},set(n){y("styles","marginH",n),I(e.state.styles)}});return(n,o)=>(d(),b($,null,{icon:m(()=>[at]),dropdown:m(()=>[r("div",rt,[p(f(Q),{modelValue:f(s),"onUpdate:modelValue":o[0]||(o[0]=a=>J(s)?s.value=a:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])])]),_:1}))}}),lt={class:"space-x-1.5 hidden sm:flex"},it={class:"sm:hidden"},ct=r("span",{class:"iconify text-sm","data-icon":"jam:tools"},null,-1),dt={class:"space-x-1.5 flex pt-2 pb-1 px-2"},ut={class:"space-x-1.5 flex pt-1 pb-2 px-2 justify-end"},pt=x({setup(t){return(e,s)=>(d(),h(S,null,[r("div",lt,[p(q),p(A),p(j),p(U),p(W)]),r("div",it,[p($,{text:"Tools","dropdown-mobile-right":!0},{icon:m(()=>[ct]),dropdown:m(()=>[r("div",dt,[p(q),p(A)]),r("div",ut,[p(U),p(W),p(j)])]),_:1})])],64))}});var mt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s};const V=t=>(ce("data-v-3d2f84ec"),t=t(),de(),t),ft=V(()=>r("span",{class:"iconify","data-icon":"ic:baseline-close"},null,-1)),_t=[ft],ht=V(()=>r("div",{class:"px-4 pt-3 pb-1 font-medium"},"Import a Markdown file",-1)),vt={class:"pt-3 flex text-sm"},gt={class:"bg-gray-200 flex-1 flex items-center px-4 rounded-b"},yt={key:1,class:"flex w-full"},xt=["value","onKeyup"],bt=V(()=>r("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1)),wt=[bt],$t=x({emits:["closeImport"],setup(t,{emit:e}){const s=g(0),n=g(""),o=()=>{n.value.trim()!==""&&Z(n.value).then(l=>{y("data","mdContent",l),y("data","fileImported",!0),e("closeImport")})},a=l=>{Se(l,i=>{y("data","mdContent",i),y("data","fileImported",!0),e("closeImport")})};return(l,i)=>(d(),b(f(G),{class:"import-pane z-10 fixed h-40 w-full sm:w-96 left-0 right-0 top-0 bottom-0 flex flex-col bg-white border border-gray-400 rounded shadow",onTrigger:i[4]||(i[4]=c=>l.$emit("closeImport"))},{default:m(()=>[r("div",null,[r("button",{class:"absolute right-3 top-3.5 cursor-pointer",onClick:i[0]||(i[0]=c=>l.$emit("closeImport"))},_t),ht,r("div",vt,[r("button",{class:F(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===0&&"ml-4 bg-gray-200 border-gray-400",s.value!==0&&"ml-2 border-transparent"]]),onClick:i[1]||(i[1]=c=>s.value=0)}," Upload a file ",2),r("button",{class:F(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===1&&"bg-gray-200 border-gray-400",s.value!==1&&"border-transparent"]]),onClick:i[2]||(i[2]=c=>s.value=1)}," Paste file URL ",2)])]),r("div",gt,[s.value===0?(d(),h("input",{key:0,class:"text-xs",accept:".md",type:"file",onChange:a},null,32)):H("",!0),s.value===1?(d(),h("div",yt,[r("input",{class:"flex-1 h-7 mr-1.5 px-1 text-sm rounded-sm outline-none",value:n.value,onChange:i[3]||(i[3]=c=>n.value=c.target.value),onKeyup:ie(o,["enter"])},null,40,xt),r("button",{class:"flex items-center justify-center w-8 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-sm",onClick:o},wt)])):H("",!0)])]),_:1}))}});var Ct=mt($t,[["__scopeId","data-v-3d2f84ec"]]);const kt=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:file-outline"},null,-1),St={class:"w-32"},It=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:upload"},null,-1),Ft=r("span",{class:"text-xs sm:text-sm"},"Import MD",-1),Nt=[It,Ft],Mt=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:progress-download"},null,-1),Ht=r("span",{class:"text-xs sm:text-sm"},"Export PDF",-1),Et=[Mt,Ht],Rt=x({setup(t){const e=()=>{window.print()},s=g(!1),n=o=>{s.value=typeof o=="boolean"?o:!s.value};return(o,a)=>(d(),h(S,null,[p($,{text:"File",styles:"bg-blue-500 text-white","active-styles":"bg-blue-600 text-white"},{icon:m(()=>[kt]),dropdown:m(()=>[r("ul",St,[r("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-8 text-sm cursor-pointer bg-transparent hover:bg-gray-100 rounded-t",onClick:a[0]||(a[0]=l=>n(!0))},Nt),r("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-9 cursor-pointer bg-transparent hover:bg-gray-100 rounded-b",onClick:e},Et)])]),_:1}),s.value?(d(),b(Ct,{key:0,onCloseImport:a[1]||(a[1]=l=>n(!1))})):H("",!0)],64))}}),Tt={class:"header relative border-b flex justify-between pl-4 pr-1.5"},Lt=r("div",{class:"flex items-center"},[r("h1",{class:"font-bold text-base sm:text-lg"},"Oh, Resume!")],-1),Bt={class:"space-x-1.5 flex items-center text-gray-600"},Ot=r("a",{class:"flex items-center justify-center space-x-1 h-7 w-7 sm:h-8 sm:w-8 text-white rounded bg-gray-500 hover:bg-gray-600",href:"http://github.com/Renovamen/oh-resume",target:"_blank",rel:"nofollow noopener"},[r("span",{class:"iconify text-sm sm:text-lg","data-icon":"tabler:brand-github"})],-1),Vt=x({setup(t){return(e,s)=>(d(),h("header",Tt,[Lt,r("div",Bt,[p(pt),p(Rt),Ot])]))}}),Pt=["innerHTML"],Dt=x({setup(t){const e=C(),s=g();let n;ue(()=>{Z("/example.md").then(w=>{y("data","mdContent",w),n=pe.create(s.value,{value:e.state.data.mdContent,language:"markdown",wordWrap:"on",fontSize:13,automaticLayout:!0}),n.onDidChangeModelContent(()=>{y("data","mdContent",n.getModel().getValue())})}),c()}),me(()=>{n==null||n.dispose()}),M(()=>e.state.data.fileImported,()=>{n.getModel().setValue(e.state.data.mdContent),y("data","fileImported",!1)});const o=k(()=>He(e.state.data.mdContent));let a=!1;M(()=>o.value,()=>{_e(()=>{a?ee(e.state.styles):(I(e.state.styles),a=!0),setTimeout(()=>v(),100)})});const{width:l}=fe(),i=g(!1),c=()=>{l.value<=810?i.value=!0:i.value=!1};M(()=>l.value,()=>{c(),setTimeout(()=>v(),50)});const _=g(1),u=g(0),v=()=>{const E=document.querySelector(".preview-pane").clientWidth,ne=document.querySelector(".preview-container").clientHeight;E>=804?_.value=1:_.value=(l.value<=810?l.value:E)/804,u.value=-(1-_.value)*ne};return(w,E)=>(d(),h(S,null,[p(Vt),p(f(he),{class:"resume-main default-theme",horizontal:i.value,onResize:v},{default:m(()=>[p(f(D),{class:"editor"},{default:m(()=>[r("div",{ref_key:"editorRef",ref:s,class:"h-full"},null,512)]),_:1}),p(f(D),{class:"preview-pane","min-size":"30"},{default:m(()=>[r("div",{class:"preview-container",style:L({transform:`scale(${_.value})`,marginBottom:`${u.value}px`})},[r("div",{class:"preview",innerHTML:f(o)},null,8,Pt)],4)]),_:1})]),_:1},8,["horizontal"])],64))}});const zt=ve(Dt);zt.use(X).mount("#app");
