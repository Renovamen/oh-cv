import{m as X,a as Y,b as Z,d as V,r as g,o as w,c as D,w as k,e as r,n as C,f as _,g as S,h as ee,u as m,O as M,i as te,j as U,k as H,l as I,p as x,q as P,F as A,s as ne,t as z,v as F,P as N,x as B,y as se,z as oe,A as re,B as ae,C as E,D as j,_ as le,E as ie}from"./vendor.ea90c72e.js";const de=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};de();const q=t=>fetch(t).then(e=>{if(!e.ok)throw Error("Request error: "+e);return e.text()}).catch(e=>Promise.reject(e)),ue=(t,e)=>{if(t.stopPropagation(),!t.target.files||t.target.files.length<1)return;const s=t.target.files[0];let o=null;const n=()=>{const a=o.result;e(a)};o=new FileReader,o.onloadend=n,o.readAsText(s)},W=10,T=["#000000","#377bb5","#ca3832","#ee8732","#9c5bde","#43912b"],ce=(t,e)=>{t.style.paddingTop=`${e.marginV}px`,t.style.paddingBottom=`${Math.max(e.marginV-10,W)}px`,t.style.paddingLeft=`${e.marginH}px`,t.style.paddingRight=`${e.marginH}px`},pe=(t,e)=>{["H1","H2","H3","H4","A"].indexOf(t.tagName)!==-1&&(t.tagName==="A"&&t.classList.contains("preview-header-link")||(t.style.color=e.themeColor,t.tagName==="H2"&&(t.style.borderBottomColor=e.themeColor)))},K=(t,e)=>{const s=t.querySelectorAll(".preview-page");for(const n of s)ce(n,e);const o=t.querySelectorAll("*");for(const n of o)pe(n,e)},me=()=>{const t=new X({html:!0}).use(Y),e=t.renderer.rules.link_open||function(s,o,n,a,i){return i.renderToken(s,o,n)};return t.renderer.rules.link_open=function(s,o,n,a,i){const d=s[o].attrIndex("target");return d<0?s[o].attrPush(["target","_blank"]):s[o].attrs[d][1]="_blank",e(s,o,n,a,i)},t},fe=t=>{const e=/<dl>([\s\S]*?)<\/dl>/g,s=t.match(e);if(s===null)return t;for(const o of s){const n=/<dt>([\s\S]*?)<\/dt>/g,a=o.match(n);if(!a||(a==null?void 0:a.length)===1)continue;const i=o.replace(/<\/dd>/g,`</dd>
</dl>
<dl>`);t=t.replace(o,i)}return t},ge=(t,e)=>{let s="";if(e.name&&(s+=`<h1>${e.name}</h1>
`),e.header)for(let o=0;o<e.header.length;o++){const n=e.header[o];!n||(s+=n.newLine?"<br>":"",n.link?s+=`<a class="preview-header-link" href="${n.link}" target="_blank" rel="noopener noreferrer">${o===0||n.newLine?"":"<span> | </span>"}<span>${n.text}</span></a>
`:s+=`<span>${o===0||n.newLine?"":"<span> | </span>"}<span>${n.text}</span></span>
`)}return`<div class="preview-header">${s}</div>`+t},G=t=>{const e=document.querySelector(".preview"),s=t.marginV+Math.max(t.marginV-10,W),o=1134,n=()=>{const c=document.createElement("div");return c.className="preview-page",c},a=()=>{const c=document.createElement("div");return c.className="preview-page-break",c};let i=n(),d=0;const p=document.createElement("div");p.className="preview";const h=[];if(e.children[0].className!=="preview-page")for(const c of e.children)h.push(c);else for(const c of e.children)for(const f of c.children)h.push(f);for(const c of h){const f=window.getComputedStyle(c,null),b=c.clientHeight+parseInt(f.marginTop)+parseInt(f.marginBottom);d+b>o-s&&(p.appendChild(i),p.appendChild(a()),i=n(),d=0),i.appendChild(c.cloneNode(!0)),d+=b}p.appendChild(i),e.innerHTML=p.innerHTML,K(e,t)},ve=me(),he=t=>{const{body:e,attributes:s}=Z(t);let o=ve.render(e);return o=fe(o),o=ge(o,s),o},L=t=>{const e=document.querySelector(".preview");K(e,t),G(t)},be=r("span",{class:"iconify","data-icon":"ic:baseline-close"},null,-1),ye=[be],we=r("div",{class:"px-4 pt-3 pb-1 font-medium"},"Import a Markdown file",-1),xe={class:"pt-3 flex text-sm"},_e={class:"bg-gray-200 flex-1 flex items-center px-4 rounded-b"},ke={key:1,class:"flex w-full"},Ce=["value","onKeyup"],$e=r("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),Me=[$e],Se=V({emits:["closeImport","updateMarkdownContent"],setup(t,{emit:e}){const s=g(0),o=g(""),n=()=>{o.value.trim()!==""&&q(o.value).then(i=>{e("updateMarkdownContent",i)})},a=i=>{ue(i,d=>{e("updateMarkdownContent",d)})};return(i,d)=>(w(),D(m(M),{class:"z-10 h-40 w-full sm:w-96 m-auto fixed left-0 right-0 top-0 bottom-0 flex flex-col bg-white border border-gray-400 rounded shadow",onTrigger:d[4]||(d[4]=p=>i.$emit("closeImport"))},{default:k(()=>[r("div",null,[r("button",{class:"absolute right-3 top-3.5 cursor-pointer",onClick:d[0]||(d[0]=p=>i.$emit("closeImport"))},ye),we,r("div",xe,[r("button",{class:C(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===0&&"ml-4 bg-gray-200 border-gray-400",s.value!==0&&"ml-2 border-transparent"]]),onClick:d[1]||(d[1]=p=>s.value=0)}," Upload a file ",2),r("button",{class:C(["px-2 py-0.5 border-l border-r border-t rounded-t-sm",[s.value===1&&"bg-gray-200 border-gray-400",s.value!==1&&"border-transparent"]]),onClick:d[2]||(d[2]=p=>s.value=1)}," Paste file URL ",2)])]),r("div",_e,[s.value===0?(w(),_("input",{key:0,class:"text-xs",accept:".md",type:"file",onChange:a},null,32)):S("",!0),s.value===1?(w(),_("div",ke,[r("input",{class:"flex-1 h-7 mr-1.5 px-1 text-sm rounded-sm outline-none",value:o.value,onChange:d[3]||(d[3]=p=>o.value=p.target.value),onKeyup:ee(n,["enter"])},null,40,Ce),r("button",{class:"flex items-center justify-center w-8 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-sm",onClick:n},Me)])):S("",!0)])]),_:1}))}}),R=(t,e)=>{J.commit({type:"__set",key:t,val:e})},J=te({state:{marginV:35,marginH:45,themeColor:"#377bb5"},mutations:{__set(t,e){t[e.key]=e.val}}}),He={class:"header border-b flex justify-between pl-4 pr-1"},Le=r("div",{class:"flex items-center"},[r("h1",{class:"font-bold text-md sm:text-lg"},"Oh, Resume!")],-1),Te={class:"space-x-1.5 flex items-center text-gray-600"},Re=["onClick"],Ie={class:"w-5 h-5 relative flex items-center justify-center"},Pe=r("span",{class:"iconify text-lg","data-icon":"emojione:artist-palette"},null,-1),Ve=["value"],Oe=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin-one"},null,-1),ze=[Oe],Fe=r("span",{class:"iconify text-sm sm:text-base","data-icon":"icon-park-outline:margin"},null,-1),Ne=[Fe],Be=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:file-outline"},null,-1),Ee=r("span",{class:"text-xs sm:text-sm"},"File",-1),je=[Be,Ee],De={key:0,class:"absolute top-8 sm:top-10 right-0 w-32 bg-white border border-gray-300 shadow rounded z-10"},Ue=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:upload"},null,-1),Ae=r("span",{class:"text-xs sm:text-sm"},"Import MD",-1),qe=[Ue,Ae],We=r("span",{class:"iconify text-sm sm:text-base","data-icon":"mdi:progress-download"},null,-1),Ke=r("span",{class:"text-xs sm:text-sm"},"Export PDF",-1),Ge=[We,Ke],Je=r("a",{class:"flex items-center justify-center space-x-1 h-7 w-7 sm:h-8 sm:w-8 text-white rounded bg-gray-500 hover:bg-gray-600",href:"http://github.com/Renovamen/oh-resume",target:"_blank",rel:"nofollow noopener"},[r("span",{class:"iconify text-sm sm:text-lg","data-icon":"tabler:brand-github"})],-1),Qe=V({emits:["updateMarkdownContent"],setup(t){const e=()=>{window.print()},s=g(!1),o=v=>{s.value=typeof v=="boolean"?v:!s.value},n=g(!1),a=U(),i=g(!1),d=g(!1),p=H({get(){return a.state.marginV},set(v){R("marginV",v),L(a.state)}}),h=H({get(){return a.state.marginH},set(v){R("marginH",v),L(a.state)}}),c=g(!1),f=g(1),b=g(T[0]),y=H(()=>f.value===-1?b.value:T[f.value]),$=v=>{f.value=v,b.value=y.value},Q=v=>{f.value=-1,b.value=v.target.value};return I(()=>y.value,()=>{R("themeColor",y.value),L(a.state)}),(v,l)=>(w(),_("header",He,[Le,r("div",Te,[x(m(M),{class:"relative",onClick:l[1]||(l[1]=u=>c.value=!c.value),onTrigger:l[2]||(l[2]=u=>c.value=!1)},{default:k(()=>[r("div",{class:C(["flex items-center justify-center p-2 h-7 w-7 sm:h-8 sm:w-8 rounded border cursor-pointer",[c.value?"border-gray-500":"border-gray-300"]])},[r("span",{class:"w-full h-full rounded-sm",style:P({backgroundColor:m(y)})},null,4)],2),c.value?(w(),_("ul",{key:0,class:"absolute flex space-x-2 px-3 py-3 top-8 sm:top-10 -right-40.5 sm:right-0 bg-white border border-gray-300 shadow rounded z-10",onClick:l[0]||(l[0]=u=>u.stopPropagation())},[(w(!0),_(A,null,ne(m(T),(u,O)=>(w(),_("li",{key:`${O}-color`,class:"w-5 h-5 rounded-sm text-white flex items-center justify-center",style:P({backgroundColor:u}),onClick:et=>$(O)},null,12,Re))),128)),r("li",Ie,[Pe,r("input",{class:"absolute left-0 w-full h-full opacity-0 cursor-pointer",type:"color",value:b.value,onInput:Q},null,40,Ve)])])):S("",!0)]),_:1}),x(m(M),{class:"relative",onClick:l[5]||(l[5]=u=>i.value=!i.value),onTrigger:l[6]||(l[6]=u=>i.value=!1)},{default:k(()=>[r("div",{class:C(["flex items-center justify-center h-7 w-7 sm:h-8 sm:w-8 rounded border cursor-pointer",[i.value?"border-gray-500":"border-gray-300"]])},ze,2),z(r("div",{class:"absolute w-7 sm:w-8 py-3 top-8 sm:top-10 right-1/2 -mr-3.5 sm:-mr-4 bg-white border border-gray-300 shadow rounded z-10",onClick:l[4]||(l[4]=u=>u.stopPropagation())},[x(m(N),{modelValue:m(p),"onUpdate:modelValue":l[3]||(l[3]=u=>B(p)?p.value=u:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])],512),[[F,i.value]])]),_:1}),x(m(M),{class:"relative",onClick:l[9]||(l[9]=u=>d.value=!d.value),onTrigger:l[10]||(l[10]=u=>d.value=!1)},{default:k(()=>[r("div",{class:C(["flex items-center justify-center h-7 w-7 sm:h-8 sm:w-8 rounded border cursor-pointer",[d.value?"border-gray-500":"border-gray-300"]])},Ne,2),z(r("div",{class:"absolute w-7 sm:w-8 py-3 top-8 sm:top-10 right-1/2 -mr-3.5 sm:-mr-4 bg-white border border-gray-300 shadow rounded z-10",onClick:l[8]||(l[8]=u=>u.stopPropagation())},[x(m(N),{modelValue:m(h),"onUpdate:modelValue":l[7]||(l[7]=u=>B(h)?h.value=u:null),orientation:"vertical",class:"mx-auto"},null,8,["modelValue"])],512),[[F,d.value]])]),_:1}),x(m(M),{class:"relative cursor-pointer",onClick:l[12]||(l[12]=u=>n.value=!n.value),onTrigger:l[13]||(l[13]=u=>n.value=!1)},{default:k(()=>[r("div",{class:C(["flex items-center space-x-1 px-2 sm:px-3 h-7 sm:h-8 text-white rounded",[n.value?"bg-blue-600":"bg-blue-500"]])},je,2),n.value?(w(),_("ul",De,[r("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-9 cursor-pointer bg-transparent hover:bg-gray-100 rounded-t",onClick:l[11]||(l[11]=u=>o(!0))},qe),r("li",{class:"flex items-center space-x-0.5 sm:space-x-1.5 px-3 h-9 cursor-pointer bg-transparent hover:bg-gray-100 rounded-b",onClick:e},Ge)])):S("",!0)]),_:1}),Je]),s.value?(w(),D(Se,{key:0,onCloseImport:l[14]||(l[14]=u=>o(!1)),onUpdateMarkdownContent:l[15]||(l[15]=u=>{v.$emit("updateMarkdownContent",u),s.value=!1})})):S("",!0)]))}}),Xe=["innerHTML"],Ye=V({setup(t){const e=g();let s;const o=g("");se(()=>{q("/example.md").then(y=>{o.value=y,s=oe.create(e.value,{value:o.value,language:"markdown",wordWrap:"on",fontSize:13,automaticLayout:!0}),s.onDidChangeModelContent(()=>{o.value=s.getModel().getValue()})}),c(),b()}),re(()=>{s==null||s.dispose()});const n=y=>{s.getModel().setValue(y)},a=U(),i=H(()=>he(o.value));let d=!1;I(()=>i.value,()=>{E(()=>{d?G(a.state):(L(a.state),d=!0)})});const{width:p}=ae(),h=g(!1),c=()=>{p.value<=810?h.value=!0:h.value=!1};I(()=>p.value,()=>{c(),E(()=>{b()})});const f=g(1),b=()=>{const $=document.querySelector(".preview-pane").clientWidth;$>=804?f.value=1:f.value=(p.value<=810?p.value:$)/804};return(y,$)=>(w(),_(A,null,[x(Qe,{onUpdateMarkdownContent:n}),x(m(le),{class:"resume-main default-theme",horizontal:h.value,onResize:b},{default:k(()=>[x(m(j),{class:"editor"},{default:k(()=>[r("div",{ref_key:"editorRef",ref:e,class:"h-full"},null,512)]),_:1}),x(m(j),{class:"preview-pane","min-size":"30"},{default:k(()=>[r("div",{class:"preview-container",style:P({transform:`scale(${f.value})`})},[r("div",{class:"preview",innerHTML:m(i)},null,8,Xe)],4)]),_:1})]),_:1},8,["horizontal"])],64))}});const Ze=ie(Ye);Ze.use(J).mount("#app");
